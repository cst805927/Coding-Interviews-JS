# 第 3 章 高质量代码

## 3.2 代码的规范性

- 书写清晰

- 布局清晰

  缩进要体现代码的逻辑

- 命名合理

  用完整的英文单词组合

  命名变量和函数

------

### 面试小提示

写代码时

最好用完整的英文单词组合

命名变量和函数

------

## 3.3 代码的完整性

面试官会非常关注

应聘者考虑问题是否周全

通常会检查应聘者的代码

- 是否完成了基本功能

- 输入边界值

  是否能得到正确的输出

- 是否对各种不合规范的非法输入

  做出了合理的错误处理

------

#### 1. 从 3 个方面确保代码的完整性

- 普通功能测试的测试用例

  首先要保证写出的代码能完成基本功能

- 突破常规思维的限制

  有时候看不到更多的功能需求

  - 比如面试题 17 “打印从1 到最大的 n 位数”

    面试官是不是要求考虑任意大的数字

    如果面试官确认题目要求的时任意大的数字

    那么这道题目就是一个大数问题

    此时我们需要

    特殊的数据结构表示数字

    比如用字符串或者数组

    以确保不会溢出

- 考虑各种边界值的测试用例

  很多时候都有循环或递归

  - 如果是基于循环

    那么结束循环的边界条件是否正确

  - 如果基于递归

    那么递归终止的边界值是否正确

  - 以字符串转换为整数为例

    代码应该确保正确转换

    最大的正整数和

    最小的负整数

- 各种可能的错误输入

  当输入不符合要求的时候

  还能做出合理的错误处理

  - 例如设计把字符串转换为整数的函数时

    要考虑当输入的字符串不是一个数字时

    比如 “1a2b3c”

    该怎么告诉函数的调用者这个输入时非法的

- 在软件开发过程中，需求会一直改变

  在面试时写出的代码

  能够把将来需求可能的变化考虑进去

  在需求发生变化时

  尽量减少代码改动的风险

  展示自己对

  程序可拓展性和可维护性的理解

  - 例如面试题 21 “调整数组顺序使奇数位于偶数前面” 中

    关于可拓展性和可维护性的讨论

### 2. 3 种错误处理的方法

3 种错误处理方式的优缺点比较

|          |                    优点                    |                      缺点                      |
| :------: | :----------------------------------------: | :--------------------------------------------: |
|  返回值  |              和系统 API 一致               |             不能方便地使用计算结果             |
| 全局变量 |           能够方便地使用计算结果           |           用户可能会忘记检查全局变量           |
|   异常   | 可以根据不同的出错原因，定义不同的异常类型 | 有些语言不支持异常，抛出异常时对性能有负面影响 |

